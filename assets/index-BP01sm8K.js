import{u as Pe,V as ot,a as st,b as lt,c as ut,_ as ge,m as ct,d as dt,e as ft,f as mt,g as yt}from"./index-Be0XN4rf.js";import{r as T,o as re,n as pt,c as E,a as d,b as A,w as l,u as g,m as N,d as u,e as R,t as j,f as C,i as fe,g as F,F as B,h as P,j as ie,k as I,p as z,l as ae,q as M,s as Fe,v as q,x as oe,y as be,I as Se,z as At,A as ht,B as gt,C as Ie,D as Ce,E as bt,G as $t,H as vt,J as xt,K as S,L as Vt,M as we,N as K,O as me,P as _e,Q as Ee,T as St,R as wt}from"./index-E7QzRlbI.js";import{V as _t,a as Et}from"./VToolbar-BRWsay1U.js";import{V as ee,a as te,b as Zt}from"./VCard-DTNvBQsJ.js";import{V as kt,m as Pt,u as Ft,a as It,b as Ct,c as Tt,d as Ot,f as Lt,e as jt}from"./VBtn-rMg_VrxW.js";import{R as Bt,u as Te,V as Oe,a as Le,m as Nt,b as Rt,c as Dt,d as zt,e as k,f as ne}from"./VRow-7Z8W8rlQ.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Mt}from"./VDivider-63SEVpfY.js";import"./VSheet-CFsP-vFJ.js";function de(e){if(e===null||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);return r!==null&&r!==Object.prototype&&Object.getPrototypeOf(r)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ye(e,r,n=".",t){if(!de(r))return ye(e,{},n,t);const a=Object.assign({},r);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const s=e[i];s!=null&&(t&&t(a,i,s,n)||(Array.isArray(s)&&Array.isArray(a[i])?a[i]=[...s,...a[i]]:de(s)&&de(a[i])?a[i]=ye(s,a[i],(n?`${n}.`:"")+i.toString(),t):a[i]=s))}return a}function qt(e){return(...r)=>r.reduce((n,t)=>ye(n,t,"",e),{})}const Ut=qt();function le(){return{getApiSlots:t=>{const a=[];return t&&t.tabs&&t.tabs.items&&t.tabs.items.forEach(i=>{a.push(...i&&i.input)}),t&&t.accordion&&t.accordion.items&&t.accordion.items.forEach(i=>{a.push(...i&&i.input)}),t&&t.input&&t.input.forEach(i=>{a.push(i)}),[...new Set(Object.values(a).flatMap(i=>i instanceof Array?i.flatMap(s=>Object.values(s)):Object.values(i)).flatMap(i=>i.hasOwnProperty("itemSlots")?i.itemSlots:[]))]},subLayoutSlots:t=>{const a=[];return t.forEach(i=>{a.push(...this.slots(i.input))}),a},slots:t=>{const a=[];return t&&t.length&&t.map(i=>Object.values(i).filter(s=>s.itemSlots).forEach(s=>a.push(...s.itemSlots))),a}}}function je(e){const{isFormValid:r,getCurrentForm:n}=Pe(),t=T(0),a=async()=>{let i=null;r(e.formId)||(t.value=9999,e.items.filter((s,y)=>{const m=n(e.formId).errors,o=Object.keys(s.input[0]).filter(c=>typeof m[c]<"u"&&m[c].length>0);i===null&&(i=o.length?y:null)}),await pt(),i!==null&&(t.value=i),i=null)};return re(()=>{document.addEventListener("changeLeaf",i=>{t.value=i.detail.leaf})}),{leaf:t,handleLeafError:a}}const Gt={__name:"Tabs",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},formId:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:a}=je(r),i=E(()=>Ut({header:null},r.options));return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>a())}),(s,y)=>{const m=ge;return d(),A(te,{id:"sub-layout-tabs"},{default:l(()=>[g(i).header?(d(),A(_t,N({key:0},{...g(i).toolbar||{}},{color:g(i).color||"primary",flat:"",dark:""}),{default:l(()=>[u(Et,null,{default:l(()=>[R(j(g(i).header),1)]),_:1})]),_:1},16,["color"])):C("",!0),u(ot,{modelValue:g(t),"onUpdate:modelValue":y[0]||(y[0]=o=>fe(t)?t.value=o:null),"slider-color":g(i).color||"primary",vertical:!g(i).horizontal},{default:l(()=>[(d(!0),F(B,null,P(e.items,(o,c)=>(d(),A(st,{key:c},{default:l(()=>[R(j(o.title),1)]),_:2},1024))),128))]),_:1},8,["modelValue","slider-color","vertical"]),u(ee,{class:"pa-0"},{default:l(()=>[u(lt,{modelValue:g(t),"onUpdate:modelValue":y[1]||(y[1]=o=>fe(t)?t.value=o:null)},{default:l(()=>[(d(!0),F(B,null,P(e.items,(o,c)=>(d(),A(ut,{key:`tabitem_${c}`,eager:""},{default:l(()=>[u(te,{flat:""},{default:l(()=>[u(ee,null,{default:l(()=>[u(m,{items:o.input,formId:e.formId},ie({_:2},[P(g(n)(o.input),x=>({name:x,fn:l(({item:$})=>[I(s.$slots,x,{item:$})])}))]),1032,["items","formId"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])]),_:3})]),_:3})}}},D=Symbol.for("vuetify:v-expansion-panel"),Be=z({...ae(),...ct()},"VExpansionPanelText"),pe=M()({name:"VExpansionPanelText",props:Be(),setup(e,r){let{slots:n}=r;const t=Fe(D);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:i}=dt(e,t.isSelected);return q(()=>u(kt,{onAfterLeave:i},{default:()=>{var s;return[oe(u("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&a.value&&u("div",{class:"v-expansion-panel-text__wrapper"},[(s=n.default)==null?void 0:s.call(n)])]),[[be,t.isSelected.value]])]}})),{}}}),Ne=z({color:String,expandIcon:{type:Se,default:"$expand"},collapseIcon:{type:Se,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ae(),...At()},"VExpansionPanelTitle"),Ae=M()({name:"VExpansionPanelTitle",directives:{Ripple:Bt},props:Ne(),setup(e,r){let{slots:n}=r;const t=Fe(D);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:i}=Te(e,"color"),{dimensionStyles:s}=ht(e),y=E(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),m=E(()=>t.isSelected.value?e.collapseIcon:e.expandIcon);return q(()=>{var o;return oe(u("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},a.value,e.class],style:[i.value,s.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[u("span",{class:"v-expansion-panel-title__overlay"},null),(o=n.default)==null?void 0:o.call(n,y.value),!e.hideActions&&u(Oe,{defaults:{VIcon:{icon:m.value}}},{default:()=>{var c;return[u("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,y.value))??u(Le,null,null)])]}})]),[[gt("ripple"),e.ripple]])}),{}}}),Re=z({title:String,text:String,bgColor:String,...Nt(),...Pt(),...Rt(),...Ie(),...Ne(),...Be()},"VExpansionPanel"),Ht=M()({name:"VExpansionPanel",props:Re(),emits:{"group:selected":e=>!0},setup(e,r){let{slots:n}=r;const t=Ft(e,D),{backgroundColorClasses:a,backgroundColorStyles:i}=Te(e,"bgColor"),{elevationClasses:s}=Dt(e),{roundedClasses:y}=zt(e),m=E(()=>(t==null?void 0:t.disabled.value)||e.disabled),o=E(()=>t.group.items.value.reduce(($,b,Z)=>(t.group.selected.value.includes(b.id)&&$.push(Z),$),[])),c=E(()=>{const $=t.group.items.value.findIndex(b=>b.id===t.id);return!t.isSelected.value&&o.value.some(b=>b-$===1)}),x=E(()=>{const $=t.group.items.value.findIndex(b=>b.id===t.id);return!t.isSelected.value&&o.value.some(b=>b-$===-1)});return Ce(D,t),q(()=>{const $=!!(n.text||e.text),b=!!(n.title||e.title),Z=Ae.filterProps(e),_=pe.filterProps(e);return u(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":x.value,"v-expansion-panel--disabled":m.value},y.value,a.value,e.class],style:[i.value,e.style]},{default:()=>[u("div",{class:["v-expansion-panel__shadow",...s.value]},null),u(Oe,{defaults:{VExpansionPanelTitle:{...Z},VExpansionPanelText:{..._}}},{default:()=>{var L;return[b&&u(Ae,{key:"title"},{default:()=>[n.title?n.title():e.title]}),$&&u(pe,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(L=n.default)==null?void 0:L.call(n)]}})]})}),{groupItem:t}}}),Jt=["default","accordion","inset","popout"],Kt=z({flat:Boolean,...It(),...bt(Re(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...$t(),...ae(),...Ie(),variant:{type:String,default:"default",validator:e=>Jt.includes(e)}},"VExpansionPanels"),Wt=M()({name:"VExpansionPanels",props:Kt(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const{next:t,prev:a}=Ct(e,D),{themeClasses:i}=vt(e),s=E(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return xt({VExpansionPanel:{bgColor:S(e,"bgColor"),collapseIcon:S(e,"collapseIcon"),color:S(e,"color"),eager:S(e,"eager"),elevation:S(e,"elevation"),expandIcon:S(e,"expandIcon"),focusable:S(e,"focusable"),hideActions:S(e,"hideActions"),readonly:S(e,"readonly"),ripple:S(e,"ripple"),rounded:S(e,"rounded"),static:S(e,"static")}}),q(()=>u(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},i.value,s.value,e.class],style:e.style},{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{prev:a,next:t})]}})),{next:t,prev:a}}}),Qt={__name:"Accordion",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},formId:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:a}=je(r);return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>a())}),(i,s)=>{const y=ge;return d(),A(Wt,{mandatory:"force",modelValue:g(t),"onUpdate:modelValue":s[0]||(s[0]=m=>fe(t)?t.value=m:null)},{default:l(()=>[(d(!0),F(B,null,P(e.items,(m,o)=>(d(),A(Ht,{key:o},{default:l(()=>[u(Ae,null,{default:l(()=>[R(j(m.title),1)]),_:2},1024),u(pe,{eager:""},{default:l(()=>[u(y,{items:m.input,formId:e.formId},ie({_:2},[P(g(n)(m.input),c=>({name:c,fn:l(({item:x})=>[I(i.$slots,c,{item:x})])}))]),1032,["items","formId"])]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])}}},Yt={},Xt={class:"theme-plain"};function en(e,r){return d(),F("div",Xt,[I(e.$slots,"default")])}const tn=se(Yt,[["render",en]]),nn={name:"ThemeFluid",props:{row:{type:Object,default:()=>{}}},computed:{title(){var e;return(e=this.row)==null?void 0:e.title}}},rn={class:"theme-fluid"},an={class:"title_fluid",style:{"font-size":"1rem"}};function on(e,r,n,t,a,i){return d(),F("div",rn,[u(te,null,{default:l(()=>[u(Zt,{class:"py-2"},{default:l(()=>[Vt("span",an,j(i.title),1)]),_:1}),u(Mt),u(ee,null,{default:l(()=>[I(e.$slots,"default",{theme:"Fluid"})]),_:3})]),_:3})])}const sn=se(nn,[["render",on]]),ln={},un={class:"theme-breeze"};function cn(e,r){return d(),F("div",un,[I(e.$slots,"default",{theme:"Breeze"})])}const dn=se(ln,[["render",cn]]),fn={},mn={class:"theme-card"};function yn(e,r){return d(),F("div",mn,[u(te,{class:"px-5 py-8"},{default:l(()=>[u(ee,null,{default:l(()=>[I(e.$slots,"default")]),_:3})]),_:3})])}const pn=se(fn,[["render",yn]]),An={__name:"Row",props:{row:{type:Object,required:!0},id:{type:String,required:!0},loading:{type:Boolean,required:!0}},setup(e){const r=e,{slots:n,subLayoutSlots:t}=le(),{showOnConditions:a}=ft(r.id),i=T({Plain:tn,Fluid:sn,Breeze:dn,Card:pn}),s=E(()=>{var o,c;return r.row.theme!=="Fluid"&&((c=(o=r.row)==null?void 0:o.title)==null?void 0:c.length)}),y=E(()=>{var o;return(o=r.row.input)!=null&&o.length?"set"in r.row.input[0]?r.row.input:{input:{title:r.row.title,theme:r.row.theme,themeComp:r.row.theme?i.value[r.row.theme]:i.value.Plain,set:r.row.input}}:[]}),m=E(()=>{const o=r.row.title;let c;return we(o)?"html"in o?c=o.html:"text"in o&&(c=`<h2 class="${o.class||""}">${o.text}</h2>`):c=o?`<h2>${o}</h2>`:"",c});return(o,c)=>{const x=Qt,$=Gt,b=ge;return g(a)(e.row.conditionals)?(d(),A(ne,{key:0},{default:l(()=>[g(s)?(d(),A(k,{key:0,cols:"12",innerHTML:g(m)},null,8,["innerHTML"])):C("",!0),g(we)(e.row.title)&&"component"in e.row.title?(d(),A(k,{key:1,cols:"12"},{default:l(()=>[(d(),A(K(e.row.title.component),me(_e({...e.row.title.bind||{}})),null,16))]),_:1})):C("",!0),I(o.$slots,"rowSlot"),e.row.accordion?(d(),A(k,{key:2,cols:"12"},{default:l(()=>[u(x,{formId:e.id,items:e.row.accordion.items,options:e.row.accordion.options},null,8,["formId","items","options"])]),_:1})):C("",!0),e.row.tabs?(d(),A(k,{key:3,cols:"12"},{default:l(()=>[u($,{formId:e.id,items:e.row.tabs.items,options:e.row.tabs.options},null,8,["formId","items","options"])]),_:1})):C("",!0),u(k,{cols:"12"},{default:l(()=>[u(ne,null,{default:l(()=>{var Z;return[(d(!0),F(B,null,P(g(y),(_,L)=>oe((d(),A(k,N({cols:"12",ref_for:!0},{...o.$attrs,..._.responsive||{}},{key:L}),{default:l(()=>[(d(),A(K(_.themeComp),{row:_},{default:l(()=>[u(b,{ref_for:!0,ref:"dataFormInput",items:_.set,formId:e.id,loading:e.loading,theme:_.theme},ie({_:2},[P(g(n)(_.set),U=>({name:U,fn:l(({item:G})=>[I(o.$slots,U,{item:G})])}))]),1032,["items","formId","loading","theme"])]),_:2},1032,["row"]))]),_:2},1040)),[[be,!_.hidden]])),128)),(Z=e.row.dynamic)!=null&&Z.component?(d(),A(k,{key:0,cols:"12"},{default:l(()=>[(d(),A(K(e.row.theme?g(i)[e.row.theme]:g(i).Plain),{row:e.row},{default:l(()=>[(d(),A(K(e.row.dynamic.component),me(_e({...r,...e.row.dynamic})),null,16))]),_:1},8,["row"]))]),_:1})):C("",!0)]}),_:3})]),_:3})]),_:3})):C("",!0)}}};/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const W={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},Q={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Y={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},X={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},ue=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function w(e,r){return Array.isArray(e)?e[0]:e[r]}function p(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const De=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>De(a,{locale:n}));const t=String(e);return n?(W[n]||W.en).test(t):Object.keys(W).some(a=>W[a].test(t))},ze=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>ze(a,{locale:n}));const t=String(e);return n?(X[n]||X.en).test(t):Object.keys(X).some(a=>X[a].test(t))},Me=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>Me(a,{locale:n}));const t=String(e);return n?(Y[n]||Y.en).test(t):Object.keys(Y).some(a=>Y[a].test(t))},qe=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>qe(a,{locale:n}));const t=String(e);return n?(Q[n]||Q.en).test(t):Object.keys(Q).some(a=>Q[a].test(t))};function hn(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}const Ue=(e,r)=>{if(p(e))return!0;const{min:n,max:t}=hn(r);if(Array.isArray(e))return e.every(i=>Ue(i,{min:n,max:t}));const a=Number(e);return Number(n)<=a&&Number(t)>=a},gn=(e,r)=>{const n=w(r,"target");return String(e)===String(n)},Ge=(e,r)=>{if(p(e))return!0;const n=w(r,"length");if(Array.isArray(e))return e.every(a=>Ge(a,{length:n}));const t=String(e);return/^[0-9]*$/.test(t)&&t.length===Number(n)},bn=(e,r,n)=>{const t=window.URL||window.webkitURL;return new Promise(a=>{const i=new Image;i.onerror=()=>a(!1),i.onload=()=>a(i.width===r&&i.height===n),i.src=t.createObjectURL(e)})};function $n(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}const vn=(e,r)=>{if(p(e))return!0;const{width:n,height:t}=$n(r),a=[],i=Array.isArray(e)?e:[e];for(let s=0;s<i.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(i[s].name))return Promise.resolve(!1);a.push(i[s])}return Promise.all(a.map(s=>bn(s,n,t))).then(s=>s.every(y=>y))},Ze=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xn=e=>p(e)?!0:Array.isArray(e)?e.every(r=>Ze.test(String(r))):Ze.test(String(e)),Vn=(e,r)=>{if(p(e))return!0;const n=new RegExp(`\\.(${r.join("|")})$`,"i");return Array.isArray(e)?e.every(t=>n.test(t.name)):n.test(e.name)},Sn=e=>{if(p(e))return!0;const r=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every(n=>r.test(n.name)):r.test(e.name)},wn=e=>p(e)?!0:Array.isArray(e)?e.every(r=>/^-?[0-9]+$/.test(String(r))):/^-?[0-9]+$/.test(String(e)),_n=(e,r)=>{const n=w(r,"other");return e===n},En=(e,r)=>{const n=w(r,"other");return e!==n},Zn=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return typeof e=="number"&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(n)},He=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>He(t,{length:n})):[...String(e)].length<=Number(n)},Je=(e,r)=>{if(p(e))return!0;const n=w(r,"max");return Array.isArray(e)?e.length>0&&e.every(t=>Je(t,{max:n})):Number(e)<=Number(n)},ke=/\+(.+)?/;function kn(e){let r=e;return ke.test(e)&&(r=e.replace(ke,"(\\+$1)?")),new RegExp(r.replace("*",".+"),"i")}const Pn=(e,r)=>{if(p(e))return!0;r||(r=[]);const n=r.map(kn);return Array.isArray(e)?e.every(t=>n.some(a=>a.test(t.type))):n.some(t=>t.test(e.type))},Ke=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>Ke(t,{length:n})):[...String(e)].length>=Number(n)},We=(e,r)=>{if(p(e))return!0;const n=w(r,"min");return Array.isArray(e)?e.length>0&&e.every(t=>We(t,{min:n})):Number(e)>=Number(n)},$e=(e,r)=>p(e)?!0:Array.isArray(e)?e.every(n=>$e(n,r)):Array.from(r).some(n=>n==e),Fn=(e,r)=>p(e)?!0:!$e(e,r),In=/^[٠١٢٣٤٥٦٧٨٩]+$/,Cn=/^[0-9]+$/,Tn=e=>{if(p(e))return!0;const r=n=>{const t=String(n);return Cn.test(t)||In.test(t)};return Array.isArray(e)?e.every(r):r(e)},Qe=(e,r)=>{if(p(e))return!0;let n=w(r,"regex");return typeof n=="string"&&(n=new RegExp(n)),Array.isArray(e)?e.every(t=>Qe(t,{regex:n})):n.test(String(e))};function On(e){return e==null}function Ln(e){return Array.isArray(e)&&e.length===0}const jn=e=>On(e)||Ln(e)||e===!1?!1:!!String(e).trim().length,Bn=(e,r)=>{if(p(e))return!0;let n=w(r,"size");if(n=Number(n),isNaN(n))return!1;const t=n*1024;if(!Array.isArray(e))return e.size<=t;for(let a=0;a<e.length;a++)if(e[a].size>t)return!1;return!0},Nn=(e,r)=>{var n;if(p(e))return!0;let t=w(r,"pattern");typeof t=="string"&&(t=new RegExp(t));try{new URL(e)}catch{return!1}return(n=t==null?void 0:t.test(e))!==null&&n!==void 0?n:!0},Rn={alpha_dash:ze,alpha_num:Me,alpha_spaces:qe,alpha:De,between:Ue,confirmed:gn,digits:Ge,dimensions:vn,email:xn,ext:Vn,image:Sn,integer:wn,is_not:En,is:_n,length:Zn,max_value:Je,max:He,mimes:Pn,min_value:We,min:Ke,not_one_of:Fn,numeric:Tn,one_of:$e,regex:Qe,required:jn,size:Bn,url:Nn};function he(e,r={}){return Array.isArray(e)?e.forEach(n=>he(n,r)):typeof e=="object"&&e!==null&&Object.keys(e).forEach(n=>{const t=e[n];n==="validation"&&(r[e._parentKey]=t),typeof t=="object"&&t!==null&&(t._parentKey=n,he(t,r))}),r}const Dn=z({...ae(),...Tt()},"VForm"),zn=M()({name:"VForm",props:Dn(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,r){let{slots:n,emit:t}=r;const a=Ot(e),i=T();function s(m){m.preventDefault(),a.reset()}function y(m){const o=m,c=a.validate();o.then=c.then.bind(c),o.catch=c.catch.bind(c),o.finally=c.finally.bind(c),t("submit",o),o.defaultPrevented||c.then(x=>{var b;let{valid:$}=x;$&&((b=i.value)==null||b.submit())}),o.preventDefault()}return q(()=>{var m;return u("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:y},[(m=n.default)==null?void 0:m.call(n,a)])}),Lt(a,i)}}),Yn={__name:"index",props:{id:{required:!0,type:String},api:{type:Object,default:()=>({})},locale:{type:String,default:"en"},localeStrings:{type:Object,default:()=>({})}},emits:["dataFormSubmit","dataFormSubmitSuccess","dataFormSubmitFailed"],setup(e,{expose:r,emit:n}){Object.entries(Rn).forEach(([f,V])=>{mt(f,V)});const t=Pe(),{getApiSlots:a}=le(),{getCurrentForm:i,addForm:s,addField:y,updateBinder:m,makeFormValid:o,makeFormInvalid:c,setFormErrors:x}=t,$=n,b=T(null),Z=T(!1),_=new Event("dataFormSubmit"),L=new Event("dataFormSubmitSuccess"),U=new Event("dataFormSubmitFailed"),G=T(!1),ve=T({}),H=T(!1),h=e,xe=f=>{"binder"in f&&(G.value||(ve.value={...f.binder},G.value=!0),JSON.stringify(ve.value)!==JSON.stringify(f.binder)&&!H.value?window.onbeforeunload=function(){return!0}:window.onbeforeunload=null,m({formId:h.id,binder:f.binder}))},Ye=()=>{H.value=!1,c(h.id);const f=Xe();x({formId:h.id,errors:[]}),document.dispatchEvent(_),$("dataFormSubmit"),rt(()=>it(f),V=>Ve(V.errors))()},Xe=()=>{const f={};let V=!0;return h.api.binder?(Object.keys(h.api.binder).forEach(O=>{let v=h.api.binder[O];if(typeof v=="object"&&v!==null){if(v.invalid){console.error("Binder value is not valid: ",O),V=!1;return}v.invalid=!1}f[O]=v,y({formId:h.id,fieldName:O,fieldValue:v})}),V?f:!1):!0},et=f=>{Z.value=f},tt=f=>{document.dispatchEvent(new CustomEvent("changeLeaf",{detail:{leaf:f}}))},nt=()=>{const V=b.value.$el.querySelector(".v-input--error:first-of-type");if(V){const v=V.getBoundingClientRect().top+window.pageYOffset+-200;window.scrollTo({top:v,behavior:"smooth"})}},{handleSubmit:rt}=yt({validationSchema:he(h.api)}),it=f=>{if(f){const V=i(h.id);h.api.submit&&h.api.submit.click(V.fields),o(h.id),H.value=!0,document.dispatchEvent(L),$("dataFormSubmitSuccess")}else Ve([])},Ve=f=>{x({formId:h.id,errors:f}),document.dispatchEvent(U),$("dataFormSubmitFailed"),nt()};return re(()=>{s({form_id:h.id,locale:h.locale,locale_strings:h.localeStrings}),m({formId:h.id,binder:h.api.binder??{}}),Ee(()=>h.api,f=>xe(f),{deep:!0}),Ee(()=>H.value,()=>xe(h.api))}),Ce("dataformsStore",t),r({setLoading:et,changeLeaf:tt,dataformsStore:t}),(f,V)=>{const O=An;return d(),A(zn,{onSubmit:wt(Ye,["prevent"]),ref_key:"vFormRef",ref:b},{default:l(()=>[u(St,{name:"form"},{default:l(()=>[u(ne,{key:"form_row"},{default:l(()=>[(d(!0),F(B,null,P(e.api.rows,(v,at)=>oe((d(),A(k,N({cols:"12",ref_for:!0},{...f.$attrs,...v.responsive||{}},{key:at}),{default:l(()=>[u(O,{row:v,id:e.id,loading:Z.value},ie({rowSlot:l(()=>[(d(!0),F(B,null,P(v.slots,(J,ce)=>(d(),A(k,{cols:"12",key:ce},{default:l(()=>[I(f.$slots,J)]),_:2},1024))),128))]),_:2},[P(g(a)(v),J=>({name:J,fn:l(({item:ce})=>[I(f.$slots,J,{item:ce})])}))]),1032,["row","id","loading"])]),_:2},1040)),[[be,!v.hidden]])),128))]),_:3})]),_:3}),typeof e.api.submit=="object"?(d(),A(ne,{key:0},{default:l(()=>[u(k,{class:"text-end"},{default:l(()=>[u(jt,N({type:"submit",loading:Z.value},{...f.$attrs,...e.api.submit.options||{}},{color:e.api.submit.color}),{default:l(()=>[e.api.submit.icon?(d(),A(Le,me(N({key:0},{...f.$attrs,...e.api.submit.icon.options||{}})),{default:l(()=>[R(j(e.api.submit.icon.symbol),1)]),_:1},16)):C("",!0),R(" "+j(e.api.submit.title),1)]),_:1},16,["loading","color"])]),_:1})]),_:1})):C("",!0)]),_:3},512)}}};export{Yn as default};
