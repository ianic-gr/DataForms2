import{u as Pe,V as at,a as st,b as lt,c as ut,_ as ge,m as ct,d as dt,e as ft,f as mt,g as yt}from"./index-BRy2Ie7O.js";import{ref as T,onMounted as re,nextTick as pt,computed as E,openBlock as d,createBlock as A,withCtx as l,unref as g,mergeProps as N,createVNode as u,createTextVNode as R,toDisplayString as j,createCommentVNode as C,isRef as fe,createElementBlock as I,Fragment as B,renderList as P,createSlots as ie,renderSlot as F,inject as Ie,withDirectives as oe,vShow as be,resolveDirective as At,provide as Fe,toRef as S,createElementVNode as ht,resolveDynamicComponent as J,normalizeProps as me,guardReactiveProps as Se,watch as we,withModifiers as gt,TransitionGroup as bt}from"vue";import{V as ee,a as te,b as $t}from"./VCard-CbUxDioQ.js";import{V as vt,a as xt}from"./VToolbar-CAgNnE7A.js";import{V as Vt,m as St,u as wt,a as _t,b as Et,c as Zt,d as kt,f as Pt,e as It}from"./VBtn-CohlJM0M.js";import{p as z,m as ae,g as M,u as q,a as Ft,b as Ct,c as Ce,d as Tt,e as Ot,f as Lt,h as jt,i as _e}from"./index-BU0CBjX5.js";import{I as Ee,R as Bt,u as Te,V as Oe,a as Le,m as Nt,b as Rt,c as Dt,d as zt,e as ne,f as k}from"./VRow-SWMpGhKn.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Mt}from"./VDivider-Cp3QiASR.js";import"pinia";import"./VSheet-CjJQkgo8.js";import"vuetify";function de(e){if(e===null||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);return r!==null&&r!==Object.prototype&&Object.getPrototypeOf(r)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ye(e,r,n=".",t){if(!de(r))return ye(e,{},n,t);const o=Object.assign({},r);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const s=e[i];s!=null&&(t&&t(o,i,s,n)||(Array.isArray(s)&&Array.isArray(o[i])?o[i]=[...s,...o[i]]:de(s)&&de(o[i])?o[i]=ye(s,o[i],(n?`${n}.`:"")+i.toString(),t):o[i]=s))}return o}function qt(e){return(...r)=>r.reduce((n,t)=>ye(n,t,"",e),{})}const Ut=qt();function le(){return{getApiSlots:t=>{const o=[];return t&&t.tabs&&t.tabs.items&&t.tabs.items.forEach(i=>{o.push(...i&&i.input)}),t&&t.accordion&&t.accordion.items&&t.accordion.items.forEach(i=>{o.push(...i&&i.input)}),t&&t.input&&t.input.forEach(i=>{o.push(i)}),[...new Set(Object.values(o).flatMap(i=>i instanceof Array?i.flatMap(s=>Object.values(s)):Object.values(i)).flatMap(i=>i.hasOwnProperty("itemSlots")?i.itemSlots:[]))]},subLayoutSlots:t=>{const o=[];return t.forEach(i=>{o.push(...this.slots(i.input))}),o},slots:t=>{const o=[];return t&&t.length&&t.map(i=>Object.values(i).filter(s=>s.itemSlots).forEach(s=>o.push(...s.itemSlots))),o}}}function je(e){const{isFormValid:r,getCurrentForm:n}=Pe(),t=T(0),o=async()=>{let i=null;r(e.formId)||(t.value=9999,e.items.filter((s,y)=>{const m=n(e.formId).errors,a=Object.keys(s.input[0]).filter(c=>typeof m[c]<"u"&&m[c].length>0);i===null&&(i=a.length?y:null)}),await pt(),i!==null&&(t.value=i),i=null)};return re(()=>{document.addEventListener("changeLeaf",i=>{t.value=i.detail.leaf})}),{leaf:t,handleLeafError:o}}const Gt={__name:"Tabs",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},formId:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:o}=je(r),i=E(()=>Ut({header:null},r.options));return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>o())}),(s,y)=>{const m=ge;return d(),A(ee,{id:"sub-layout-tabs"},{default:l(()=>[g(i).header?(d(),A(vt,N({key:0},{...g(i).toolbar||{}},{color:g(i).color||"primary",flat:"",dark:""}),{default:l(()=>[u(xt,null,{default:l(()=>[R(j(g(i).header),1)]),_:1})]),_:1},16,["color"])):C("",!0),u(at,{modelValue:g(t),"onUpdate:modelValue":y[0]||(y[0]=a=>fe(t)?t.value=a:null),"slider-color":g(i).color||"primary",vertical:!g(i).horizontal},{default:l(()=>[(d(!0),I(B,null,P(e.items,(a,c)=>(d(),A(st,{key:c},{default:l(()=>[R(j(a.title),1)]),_:2},1024))),128))]),_:1},8,["modelValue","slider-color","vertical"]),u(te,{class:"pa-0"},{default:l(()=>[u(lt,{modelValue:g(t),"onUpdate:modelValue":y[1]||(y[1]=a=>fe(t)?t.value=a:null)},{default:l(()=>[(d(!0),I(B,null,P(e.items,(a,c)=>(d(),A(ut,{key:`tabitem_${c}`,eager:""},{default:l(()=>[u(ee,{flat:""},{default:l(()=>[u(te,null,{default:l(()=>[u(m,{items:a.input,formId:e.formId},ie({_:2},[P(g(n)(a.input),x=>({name:x,fn:l(({item:$})=>[F(s.$slots,x,{item:$})])}))]),1032,["items","formId"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])]),_:3})]),_:3})}}},D=Symbol.for("vuetify:v-expansion-panel"),Be=z({...ae(),...ct()},"VExpansionPanelText"),pe=M()({name:"VExpansionPanelText",props:Be(),setup(e,r){let{slots:n}=r;const t=Ie(D);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:i}=dt(e,t.isSelected);return q(()=>u(Vt,{onAfterLeave:i},{default:()=>{var s;return[oe(u("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&o.value&&u("div",{class:"v-expansion-panel-text__wrapper"},[(s=n.default)==null?void 0:s.call(n)])]),[[be,t.isSelected.value]])]}})),{}}}),Ne=z({color:String,expandIcon:{type:Ee,default:"$expand"},collapseIcon:{type:Ee,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ae(),...Ft()},"VExpansionPanelTitle"),Ae=M()({name:"VExpansionPanelTitle",directives:{Ripple:Bt},props:Ne(),setup(e,r){let{slots:n}=r;const t=Ie(D);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:i}=Te(e,"color"),{dimensionStyles:s}=Ct(e),y=E(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),m=E(()=>t.isSelected.value?e.collapseIcon:e.expandIcon);return q(()=>{var a;return oe(u("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},o.value,e.class],style:[i.value,s.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[u("span",{class:"v-expansion-panel-title__overlay"},null),(a=n.default)==null?void 0:a.call(n,y.value),!e.hideActions&&u(Oe,{defaults:{VIcon:{icon:m.value}}},{default:()=>{var c;return[u("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,y.value))??u(Le,null,null)])]}})]),[[At("ripple"),e.ripple]])}),{}}}),Re=z({title:String,text:String,bgColor:String,...Nt(),...St(),...Rt(),...Ce(),...Ne(),...Be()},"VExpansionPanel"),Wt=M()({name:"VExpansionPanel",props:Re(),emits:{"group:selected":e=>!0},setup(e,r){let{slots:n}=r;const t=wt(e,D),{backgroundColorClasses:o,backgroundColorStyles:i}=Te(e,"bgColor"),{elevationClasses:s}=Dt(e),{roundedClasses:y}=zt(e),m=E(()=>(t==null?void 0:t.disabled.value)||e.disabled),a=E(()=>t.group.items.value.reduce(($,b,Z)=>(t.group.selected.value.includes(b.id)&&$.push(Z),$),[])),c=E(()=>{const $=t.group.items.value.findIndex(b=>b.id===t.id);return!t.isSelected.value&&a.value.some(b=>b-$===1)}),x=E(()=>{const $=t.group.items.value.findIndex(b=>b.id===t.id);return!t.isSelected.value&&a.value.some(b=>b-$===-1)});return Fe(D,t),q(()=>{const $=!!(n.text||e.text),b=!!(n.title||e.title),Z=Ae.filterProps(e),_=pe.filterProps(e);return u(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":x.value,"v-expansion-panel--disabled":m.value},y.value,o.value,e.class],style:[i.value,e.style]},{default:()=>[u("div",{class:["v-expansion-panel__shadow",...s.value]},null),u(Oe,{defaults:{VExpansionPanelTitle:{...Z},VExpansionPanelText:{..._}}},{default:()=>{var L;return[b&&u(Ae,{key:"title"},{default:()=>[n.title?n.title():e.title]}),$&&u(pe,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(L=n.default)==null?void 0:L.call(n)]}})]})}),{groupItem:t}}}),Ht=["default","accordion","inset","popout"],Jt=z({flat:Boolean,..._t(),...Tt(Re(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ot(),...ae(),...Ce(),variant:{type:String,default:"default",validator:e=>Ht.includes(e)}},"VExpansionPanels"),Kt=M()({name:"VExpansionPanels",props:Jt(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const{next:t,prev:o}=Et(e,D),{themeClasses:i}=Lt(e),s=E(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return jt({VExpansionPanel:{bgColor:S(e,"bgColor"),collapseIcon:S(e,"collapseIcon"),color:S(e,"color"),eager:S(e,"eager"),elevation:S(e,"elevation"),expandIcon:S(e,"expandIcon"),focusable:S(e,"focusable"),hideActions:S(e,"hideActions"),readonly:S(e,"readonly"),ripple:S(e,"ripple"),rounded:S(e,"rounded"),static:S(e,"static")}}),q(()=>u(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},i.value,s.value,e.class],style:e.style},{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{prev:o,next:t})]}})),{next:t,prev:o}}}),Yt={__name:"Accordion",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},formId:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:o}=je(r);return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>o())}),(i,s)=>{const y=ge;return d(),A(Kt,{mandatory:"force",modelValue:g(t),"onUpdate:modelValue":s[0]||(s[0]=m=>fe(t)?t.value=m:null)},{default:l(()=>[(d(!0),I(B,null,P(e.items,(m,a)=>(d(),A(Wt,{key:a},{default:l(()=>[u(Ae,null,{default:l(()=>[R(j(m.title),1)]),_:2},1024),u(pe,{eager:""},{default:l(()=>[u(y,{items:m.input,formId:e.formId},ie({_:2},[P(g(n)(m.input),c=>({name:c,fn:l(({item:x})=>[F(i.$slots,c,{item:x})])}))]),1032,["items","formId"])]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])}}},Qt={},Xt={class:"theme-plain"};function en(e,r){return d(),I("div",Xt,[F(e.$slots,"default")])}const tn=se(Qt,[["render",en]]),nn={name:"ThemeFluid",props:{row:{type:Object,default:()=>{}}},computed:{title(){var e;return(e=this.row)==null?void 0:e.title}}},rn={class:"theme-fluid"},on={class:"title_fluid",style:{"font-size":"1rem"}};function an(e,r,n,t,o,i){return d(),I("div",rn,[u(ee,null,{default:l(()=>[u($t,{class:"py-2"},{default:l(()=>[ht("span",on,j(i.title),1)]),_:1}),u(Mt),u(te,null,{default:l(()=>[F(e.$slots,"default",{theme:"Fluid"})]),_:3})]),_:3})])}const sn=se(nn,[["render",an]]),ln={},un={class:"theme-breeze"};function cn(e,r){return d(),I("div",un,[F(e.$slots,"default",{theme:"Breeze"})])}const dn=se(ln,[["render",cn]]),fn={},mn={class:"theme-card"};function yn(e,r){return d(),I("div",mn,[u(ee,{class:"px-5 py-8"},{default:l(()=>[u(te,null,{default:l(()=>[F(e.$slots,"default")]),_:3})]),_:3})])}const pn=se(fn,[["render",yn]]),An={__name:"Row",props:{row:{type:Object,required:!0},id:{type:String,required:!0},loading:{type:Boolean,required:!0}},setup(e){const r=e,{slots:n,subLayoutSlots:t}=le(),{showOnConditions:o}=ft(r.id),i=T({Plain:tn,Fluid:sn,Breeze:dn,Card:pn}),s=E(()=>{var a,c;return r.row.theme!=="Fluid"&&((c=(a=r.row)==null?void 0:a.title)==null?void 0:c.length)}),y=E(()=>{var a;return(a=r.row.input)!=null&&a.length?"set"in r.row.input[0]?r.row.input:{input:{title:r.row.title,theme:r.row.theme,themeComp:r.row.theme?i.value[r.row.theme]:i.value.Plain,set:r.row.input}}:[]}),m=E(()=>{const a=r.row.title;let c;return _e(a)?"html"in a?c=a.html:"text"in a&&(c=`<h2 class="${a.class||""}">${a.text}</h2>`):c=a?`<h2>${a}</h2>`:"",c});return(a,c)=>{const x=Yt,$=Gt,b=ge;return g(o)(e.row.conditionals)?(d(),A(ne,{key:0},{default:l(()=>[g(s)?(d(),A(k,{key:0,cols:"12",innerHTML:g(m)},null,8,["innerHTML"])):C("",!0),g(_e)(e.row.title)&&"component"in e.row.title?(d(),A(k,{key:1,cols:"12"},{default:l(()=>[(d(),A(J(e.row.title.component),me(Se({...e.row.title.bind||{}})),null,16))]),_:1})):C("",!0),F(a.$slots,"rowSlot"),e.row.accordion?(d(),A(k,{key:2,cols:"12"},{default:l(()=>[u(x,{formId:e.id,items:e.row.accordion.items,options:e.row.accordion.options},null,8,["formId","items","options"])]),_:1})):C("",!0),e.row.tabs?(d(),A(k,{key:3,cols:"12"},{default:l(()=>[u($,{formId:e.id,items:e.row.tabs.items,options:e.row.tabs.options},null,8,["formId","items","options"])]),_:1})):C("",!0),u(k,{cols:"12"},{default:l(()=>[u(ne,null,{default:l(()=>{var Z;return[(d(!0),I(B,null,P(g(y),(_,L)=>oe((d(),A(k,N({cols:"12",ref_for:!0},{...a.$attrs,..._.responsive||{}},{key:L}),{default:l(()=>[(d(),A(J(_.themeComp),{row:_},{default:l(()=>[u(b,{ref_for:!0,ref:"dataFormInput",items:_.set,formId:e.id,loading:e.loading,theme:_.theme},ie({_:2},[P(g(n)(_.set),U=>({name:U,fn:l(({item:G})=>[F(a.$slots,U,{item:G})])}))]),1032,["items","formId","loading","theme"])]),_:2},1032,["row"]))]),_:2},1040)),[[be,!_.hidden]])),128)),(Z=e.row.dynamic)!=null&&Z.component?(d(),A(k,{key:0,cols:"12"},{default:l(()=>[(d(),A(J(e.row.theme?g(i)[e.row.theme]:g(i).Plain),{row:e.row},{default:l(()=>[(d(),A(J(e.row.dynamic.component),me(Se({...r,...e.row.dynamic})),null,16))]),_:1},8,["row"]))]),_:1})):C("",!0)]}),_:3})]),_:3})]),_:3})):C("",!0)}}};/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const K={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},Y={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Q={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},X={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},ue=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function w(e,r){return Array.isArray(e)?e[0]:e[r]}function p(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const De=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(o=>De(o,{locale:n}));const t=String(e);return n?(K[n]||K.en).test(t):Object.keys(K).some(o=>K[o].test(t))},ze=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(o=>ze(o,{locale:n}));const t=String(e);return n?(X[n]||X.en).test(t):Object.keys(X).some(o=>X[o].test(t))},Me=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(o=>Me(o,{locale:n}));const t=String(e);return n?(Q[n]||Q.en).test(t):Object.keys(Q).some(o=>Q[o].test(t))},qe=(e,r)=>{if(p(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(o=>qe(o,{locale:n}));const t=String(e);return n?(Y[n]||Y.en).test(t):Object.keys(Y).some(o=>Y[o].test(t))};function hn(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}const Ue=(e,r)=>{if(p(e))return!0;const{min:n,max:t}=hn(r);if(Array.isArray(e))return e.every(i=>Ue(i,{min:n,max:t}));const o=Number(e);return Number(n)<=o&&Number(t)>=o},gn=(e,r)=>{const n=w(r,"target");return String(e)===String(n)},Ge=(e,r)=>{if(p(e))return!0;const n=w(r,"length");if(Array.isArray(e))return e.every(o=>Ge(o,{length:n}));const t=String(e);return/^[0-9]*$/.test(t)&&t.length===Number(n)},bn=(e,r,n)=>{const t=window.URL||window.webkitURL;return new Promise(o=>{const i=new Image;i.onerror=()=>o(!1),i.onload=()=>o(i.width===r&&i.height===n),i.src=t.createObjectURL(e)})};function $n(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}const vn=(e,r)=>{if(p(e))return!0;const{width:n,height:t}=$n(r),o=[],i=Array.isArray(e)?e:[e];for(let s=0;s<i.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(i[s].name))return Promise.resolve(!1);o.push(i[s])}return Promise.all(o.map(s=>bn(s,n,t))).then(s=>s.every(y=>y))},Ze=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xn=e=>p(e)?!0:Array.isArray(e)?e.every(r=>Ze.test(String(r))):Ze.test(String(e)),Vn=(e,r)=>{if(p(e))return!0;const n=new RegExp(`\\.(${r.join("|")})$`,"i");return Array.isArray(e)?e.every(t=>n.test(t.name)):n.test(e.name)},Sn=e=>{if(p(e))return!0;const r=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every(n=>r.test(n.name)):r.test(e.name)},wn=e=>p(e)?!0:Array.isArray(e)?e.every(r=>/^-?[0-9]+$/.test(String(r))):/^-?[0-9]+$/.test(String(e)),_n=(e,r)=>{const n=w(r,"other");return e===n},En=(e,r)=>{const n=w(r,"other");return e!==n},Zn=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return typeof e=="number"&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(n)},We=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>We(t,{length:n})):[...String(e)].length<=Number(n)},He=(e,r)=>{if(p(e))return!0;const n=w(r,"max");return Array.isArray(e)?e.length>0&&e.every(t=>He(t,{max:n})):Number(e)<=Number(n)},ke=/\+(.+)?/;function kn(e){let r=e;return ke.test(e)&&(r=e.replace(ke,"(\\+$1)?")),new RegExp(r.replace("*",".+"),"i")}const Pn=(e,r)=>{if(p(e))return!0;r||(r=[]);const n=r.map(kn);return Array.isArray(e)?e.every(t=>n.some(o=>o.test(t.type))):n.some(t=>t.test(e.type))},Je=(e,r)=>{if(p(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>Je(t,{length:n})):[...String(e)].length>=Number(n)},Ke=(e,r)=>{if(p(e))return!0;const n=w(r,"min");return Array.isArray(e)?e.length>0&&e.every(t=>Ke(t,{min:n})):Number(e)>=Number(n)},$e=(e,r)=>p(e)?!0:Array.isArray(e)?e.every(n=>$e(n,r)):Array.from(r).some(n=>n==e),In=(e,r)=>p(e)?!0:!$e(e,r),Fn=/^[٠١٢٣٤٥٦٧٨٩]+$/,Cn=/^[0-9]+$/,Tn=e=>{if(p(e))return!0;const r=n=>{const t=String(n);return Cn.test(t)||Fn.test(t)};return Array.isArray(e)?e.every(r):r(e)},Ye=(e,r)=>{if(p(e))return!0;let n=w(r,"regex");return typeof n=="string"&&(n=new RegExp(n)),Array.isArray(e)?e.every(t=>Ye(t,{regex:n})):n.test(String(e))};function On(e){return e==null}function Ln(e){return Array.isArray(e)&&e.length===0}const jn=e=>On(e)||Ln(e)||e===!1?!1:!!String(e).trim().length,Bn=(e,r)=>{if(p(e))return!0;let n=w(r,"size");if(n=Number(n),isNaN(n))return!1;const t=n*1024;if(!Array.isArray(e))return e.size<=t;for(let o=0;o<e.length;o++)if(e[o].size>t)return!1;return!0},Nn=(e,r)=>{var n;if(p(e))return!0;let t=w(r,"pattern");typeof t=="string"&&(t=new RegExp(t));try{new URL(e)}catch{return!1}return(n=t==null?void 0:t.test(e))!==null&&n!==void 0?n:!0},Rn={alpha_dash:ze,alpha_num:Me,alpha_spaces:qe,alpha:De,between:Ue,confirmed:gn,digits:Ge,dimensions:vn,email:xn,ext:Vn,image:Sn,integer:wn,is_not:En,is:_n,length:Zn,max_value:He,max:We,mimes:Pn,min_value:Ke,min:Je,not_one_of:In,numeric:Tn,one_of:$e,regex:Ye,required:jn,size:Bn,url:Nn};function he(e,r={}){return Array.isArray(e)?e.forEach(n=>he(n,r)):typeof e=="object"&&e!==null&&Object.keys(e).forEach(n=>{const t=e[n];n==="validation"&&(r[e._parentKey]=t),typeof t=="object"&&t!==null&&(t._parentKey=n,he(t,r))}),r}const Dn=z({...ae(),...Zt()},"VForm"),zn=M()({name:"VForm",props:Dn(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,r){let{slots:n,emit:t}=r;const o=kt(e),i=T();function s(m){m.preventDefault(),o.reset()}function y(m){const a=m,c=o.validate();a.then=c.then.bind(c),a.catch=c.catch.bind(c),a.finally=c.finally.bind(c),t("submit",a),a.defaultPrevented||c.then(x=>{var b;let{valid:$}=x;$&&((b=i.value)==null||b.submit())}),a.preventDefault()}return q(()=>{var m;return u("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:y},[(m=n.default)==null?void 0:m.call(n,o)])}),Pt(o,i)}}),tr={__name:"index",props:{id:{required:!0,type:String},api:{type:Object,default:()=>({})},locale:{type:String,default:"en"},localeStrings:{type:Object,default:()=>({})}},emits:["dataFormSubmit","dataFormSubmitSuccess","dataFormSubmitFailed"],setup(e,{expose:r,emit:n}){Object.entries(Rn).forEach(([f,V])=>{mt(f,V)});const t=Pe(),{getApiSlots:o}=le(),{getCurrentForm:i,addForm:s,addField:y,updateBinder:m,makeFormValid:a,makeFormInvalid:c,setFormErrors:x}=t,$=n,b=T(null),Z=T(!1),_=new Event("dataFormSubmit"),L=new Event("dataFormSubmitSuccess"),U=new Event("dataFormSubmitFailed"),G=T(!1),ve=T({}),W=T(!1),h=e,xe=f=>{"binder"in f&&(G.value||(ve.value={...f.binder},G.value=!0),JSON.stringify(ve.value)!==JSON.stringify(f.binder)&&!W.value?window.onbeforeunload=function(){return!0}:window.onbeforeunload=null,m({formId:h.id,binder:f.binder}))},Qe=()=>{W.value=!1,c(h.id);const f=Xe();x({formId:h.id,errors:[]}),document.dispatchEvent(_),$("dataFormSubmit"),rt(()=>it(f),V=>Ve(V.errors))()},Xe=()=>{const f={};let V=!0;return h.api.binder?(Object.keys(h.api.binder).forEach(O=>{let v=h.api.binder[O];if(typeof v=="object"&&v!==null){if(v.invalid){console.error("Binder value is not valid: ",O),V=!1;return}v.invalid=!1}f[O]=v,y({formId:h.id,fieldName:O,fieldValue:v})}),V?f:!1):!0},et=f=>{Z.value=f},tt=f=>{document.dispatchEvent(new CustomEvent("changeLeaf",{detail:{leaf:f}}))},nt=()=>{const V=b.value.$el.querySelector(".v-input--error:first-of-type");if(V){const v=V.getBoundingClientRect().top+window.pageYOffset+-200;window.scrollTo({top:v,behavior:"smooth"})}},{handleSubmit:rt}=yt({validationSchema:he(h.api)}),it=f=>{if(f){const V=i(h.id);h.api.submit&&h.api.submit.click(V.fields),a(h.id),W.value=!0,document.dispatchEvent(L),$("dataFormSubmitSuccess")}else Ve([])},Ve=f=>{x({formId:h.id,errors:f}),document.dispatchEvent(U),$("dataFormSubmitFailed"),nt()};return re(()=>{s({form_id:h.id,locale:h.locale,locale_strings:h.localeStrings}),m({formId:h.id,binder:h.api.binder??{}}),we(()=>h.api,f=>xe(f),{deep:!0}),we(()=>W.value,()=>xe(h.api))}),Fe("dataformsStore",t),r({setLoading:et,changeLeaf:tt,dataformsStore:t}),(f,V)=>{const O=An;return d(),A(zn,{onSubmit:gt(Qe,["prevent"]),ref_key:"vFormRef",ref:b},{default:l(()=>[u(bt,{name:"form"},{default:l(()=>[u(ne,{key:"form_row"},{default:l(()=>[(d(!0),I(B,null,P(e.api.rows,(v,ot)=>oe((d(),A(k,N({cols:"12",ref_for:!0},{...f.$attrs,...v.responsive||{}},{key:ot}),{default:l(()=>[u(O,{row:v,id:e.id,loading:Z.value},ie({rowSlot:l(()=>[(d(!0),I(B,null,P(v.slots,(H,ce)=>(d(),A(k,{cols:"12",key:ce},{default:l(()=>[F(f.$slots,H)]),_:2},1024))),128))]),_:2},[P(g(o)(v),H=>({name:H,fn:l(({item:ce})=>[F(f.$slots,H,{item:ce})])}))]),1032,["row","id","loading"])]),_:2},1040)),[[be,!v.hidden]])),128))]),_:3})]),_:3}),typeof e.api.submit=="object"?(d(),A(ne,{key:0},{default:l(()=>[u(k,{class:"text-end"},{default:l(()=>[u(It,N({type:"submit",loading:Z.value},{...f.$attrs,...e.api.submit.options||{}},{color:e.api.submit.color}),{default:l(()=>[e.api.submit.icon?(d(),A(Le,me(N({key:0},{...f.$attrs,...e.api.submit.icon.options||{}})),{default:l(()=>[R(j(e.api.submit.icon.symbol),1)]),_:1},16)):C("",!0),R(" "+j(e.api.submit.title),1)]),_:1},16,["loading","color"])]),_:1})]),_:1})):C("",!0)]),_:3},512)}}};export{tr as default};
