import{s as c,r as u,Q as v,o as g,n as f,aR as d,a as p,g as _,L as h,d as y,F as b,b as w}from"./index-CEKxACrg.js";const F={__name:"Map",props:{id:{required:!0,type:String},fields:{type:Array,default:()=>[]}},setup(r){const l=r,o=c("dataformsStore"),n=u({}),t=u(null),s=u(null),m=()=>{t.value=L.map("map").setView([40.6212503,22.9048278],13),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(t.value),s.value=L.marker([40.6212503,22.9048278],{draggable:!0}).addTo(t.value),s.value.on("dragend",function(i){const{lat:e,lng:a}=s.value.getLatLng();n.value.binder.latitude=e,n.value.binder.longitude=a})};return v(()=>n.value.binder,({latitude:i,longitude:e})=>{if(!(!i||!e)){var a=new L.LatLng(i,e);s.value.setLatLng(a),t.value.setView(a,13)}},{deep:!0}),g(async()=>{await f(),n.value=o.getCurrentForm(l.id),m()}),(i,e)=>{const a=d("DataFormInput");return p(),_(b,null,[e[0]||(e[0]=h("div",{id:"map",class:"mb-8",style:{height:"400px"}},null,-1)),y(a,{formId:r.id,items:r.fields},null,8,["formId","items"])],64)}}},x={__name:"dynamicComponents",setup(r){const l={rows:[{input:[{whereAMI:{options:{label:"Where am i?","persistent-hint":!0},validation:"required"}}],dynamic:{component:F,fields:[{latitude:{options:{label:"Latitude",default:"40.634929113599355","persistent-hint":!0},validation:"required"},_responsive:{sm:12,md:6}},{longitude:{options:{label:"Longitude",default:"22.909068872420296","persistent-hint":!0},validation:"required"},_responsive:{sm:12,md:6}}]}}],submit:{title:"Save",color:"primary",click(o){console.log("data: ",o)}}};return(o,n)=>{const t=d("DataForm");return p(),w(t,{id:"contact-form",api:l})}}};export{x as default};
