import{u as Pe,V as st,a as lt,b as ut,c as ct,_ as he,m as dt,d as ft,e as mt,f as yt,g as pt}from"./index-DllhB3sd.js";import{r as O,o as re,n as At,c as E,a as d,b as A,w as l,u as g,m as j,d as u,e as R,t as B,f as P,i as fe,g as I,F as N,h as F,j as ie,k as T,l as D,p as M,q as ae,s as q,v as Fe,x as U,y as oe,z as ge,I as Se,A as bt,B as ht,C as gt,D as Ie,E as Te,G as $t,H as vt,J as xt,K as Vt,L as S,_ as se,M as St,N as we,O as me,P as _e,Q as Ee,T as wt,R as _t}from"./index-C5-7oPDj.js";import{V as Et,a as Zt}from"./VToolbar-Cl3hH-lo.js";import{V as ee,a as te,b as kt}from"./VCard-DMYiCsdX.js";import{V as Pt,m as Ft,u as It,a as Tt,b as Ct,c as Ot,d as Lt,f as jt,e as Bt}from"./VBtn-Cq_FEF1N.js";import{R as Nt,u as Ce,V as Oe,a as Le,m as Dt,b as Rt,c as zt,d as Mt,e as k,f as ne}from"./VRow-nWKzDGV2.js";import{V as qt}from"./VDivider-DmtfrjAS.js";import"./VSheet-BmvcGtMw.js";function de(e){if(e===null||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);return r!==null&&r!==Object.prototype&&Object.getPrototypeOf(r)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ye(e,r,n=".",t){if(!de(r))return ye(e,{},n,t);const a=Object.assign({},r);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const s=e[i];s!=null&&(t&&t(a,i,s,n)||(Array.isArray(s)&&Array.isArray(a[i])?a[i]=[...s,...a[i]]:de(s)&&de(a[i])?a[i]=ye(s,a[i],(n?`${n}.`:"")+i.toString(),t):a[i]=s))}return a}function Ut(e){return(...r)=>r.reduce((n,t)=>ye(n,t,"",e),{})}const Gt=Ut();function le(){return{getApiSlots:t=>{const a=[];return t&&t.tabs&&t.tabs.items&&t.tabs.items.forEach(i=>{a.push(...(i==null?void 0:i.input)??[])}),t&&t.accordion&&t.accordion.items&&t.accordion.items.forEach(i=>{a.push(...i&&i.input)}),t&&t.input&&t.input.forEach(i=>{a.push(i)}),[...new Set(Object.values(a).flatMap(i=>i instanceof Array?i.flatMap(s=>Object.values(s)):Object.values(i)).flatMap(i=>i.hasOwnProperty("itemSlots")?i.itemSlots:[]))]},subLayoutSlots:t=>{const a=[];return t.forEach(i=>{a.push(...this.slots(i.input))}),a},slots:t=>{const a=[];return t&&t.length&&t.map(i=>Object.values(i).filter(s=>s.itemSlots).forEach(s=>a.push(...s.itemSlots))),a}}}function je(e){const{isFormValid:r,getCurrentForm:n}=Pe(),t=O(0),a=async()=>{let i=null;r(e.id)||(t.value=9999,e.items.filter((s,p)=>{var c;const m=n(e.id).errors,o=Object.keys(((c=s.input)==null?void 0:c[0])??{}).filter(v=>typeof m[v]<"u"&&m[v].length>0);i===null&&(i=o.length?p:null)}),await At(),i!==null&&(t.value=i),i=null)};return re(()=>{document.addEventListener("changeLeaf",i=>{t.value=i.detail.leaf})}),{leaf:t,handleLeafError:a}}const Ht={__name:"Tabs",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},id:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:a}=je(r),i=E(()=>Gt({header:null},r.options));return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>{a()})}),(s,p)=>{const m=he;return d(),A(te,{id:"sub-layout-tabs"},{default:l(()=>[g(i).header?(d(),A(Et,j({key:0},{...g(i).toolbar||{}},{color:g(i).color||"primary",flat:"",dark:""}),{default:l(()=>[u(Zt,null,{default:l(()=>[R(B(g(i).header),1)]),_:1})]),_:1},16,["color"])):P("",!0),u(st,{modelValue:g(t),"onUpdate:modelValue":p[0]||(p[0]=o=>fe(t)?t.value=o:null),"slider-color":g(i).color||"primary",vertical:!g(i).horizontal},{default:l(()=>[(d(!0),I(N,null,F(e.items,(o,c)=>(d(),A(lt,{key:c},{default:l(()=>[R(B(o.title),1)]),_:2},1024))),128))]),_:1},8,["modelValue","slider-color","vertical"]),u(ee,{class:"pa-0"},{default:l(()=>[u(ut,{modelValue:g(t),"onUpdate:modelValue":p[1]||(p[1]=o=>fe(t)?t.value=o:null)},{default:l(()=>[(d(!0),I(N,null,F(e.items,(o,c)=>(d(),A(ct,{key:`tabitem_${c}`,eager:""},{default:l(()=>[u(te,{flat:""},{default:l(()=>[u(ee,null,{default:l(()=>{var v;return[u(m,{items:o.input,formId:e.id},ie({_:2},[F(g(n)(o.input),$=>({name:$,fn:l(({item:h})=>[T(s.$slots,$,{item:h,active:g(t)===c})])}))]),1032,["items","formId"]),(v=o.dynamic)!=null&&v.component?(d(),A(D(o.dynamic.component),j({key:0,ref_for:!0},{...r,...o.dynamic},{active:g(t)===c}),null,16,["active"])):P("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])]),_:3})]),_:3})}}},z=Symbol.for("vuetify:v-expansion-panel"),Be=M({...ae(),...dt()},"VExpansionPanelText"),pe=q()({name:"VExpansionPanelText",props:Be(),setup(e,r){let{slots:n}=r;const t=Fe(z);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:i}=ft(e,t.isSelected);return U(()=>u(Pt,{onAfterLeave:i},{default:()=>{var s;return[oe(u("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&a.value&&u("div",{class:"v-expansion-panel-text__wrapper"},[(s=n.default)==null?void 0:s.call(n)])]),[[ge,t.isSelected.value]])]}})),{}}}),Ne=M({color:String,expandIcon:{type:Se,default:"$expand"},collapseIcon:{type:Se,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ae(),...bt()},"VExpansionPanelTitle"),Ae=q()({name:"VExpansionPanelTitle",directives:{Ripple:Nt},props:Ne(),setup(e,r){let{slots:n}=r;const t=Fe(z);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:i}=Ce(e,"color"),{dimensionStyles:s}=ht(e),p=E(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),m=E(()=>t.isSelected.value?e.collapseIcon:e.expandIcon);return U(()=>{var o;return oe(u("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},a.value,e.class],style:[i.value,s.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[u("span",{class:"v-expansion-panel-title__overlay"},null),(o=n.default)==null?void 0:o.call(n,p.value),!e.hideActions&&u(Oe,{defaults:{VIcon:{icon:m.value}}},{default:()=>{var c;return[u("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,p.value))??u(Le,null,null)])]}})]),[[gt("ripple"),e.ripple]])}),{}}}),De=M({title:String,text:String,bgColor:String,...Dt(),...Ft(),...Rt(),...Ie(),...Ne(),...Be()},"VExpansionPanel"),Jt=q()({name:"VExpansionPanel",props:De(),emits:{"group:selected":e=>!0},setup(e,r){let{slots:n}=r;const t=It(e,z),{backgroundColorClasses:a,backgroundColorStyles:i}=Ce(e,"bgColor"),{elevationClasses:s}=zt(e),{roundedClasses:p}=Mt(e),m=E(()=>(t==null?void 0:t.disabled.value)||e.disabled),o=E(()=>t.group.items.value.reduce(($,h,Z)=>(t.group.selected.value.includes(h.id)&&$.push(Z),$),[])),c=E(()=>{const $=t.group.items.value.findIndex(h=>h.id===t.id);return!t.isSelected.value&&o.value.some(h=>h-$===1)}),v=E(()=>{const $=t.group.items.value.findIndex(h=>h.id===t.id);return!t.isSelected.value&&o.value.some(h=>h-$===-1)});return Te(z,t),U(()=>{const $=!!(n.text||e.text),h=!!(n.title||e.title),Z=Ae.filterProps(e),_=pe.filterProps(e);return u(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":v.value,"v-expansion-panel--disabled":m.value},p.value,a.value,e.class],style:[i.value,e.style]},{default:()=>[u("div",{class:["v-expansion-panel__shadow",...s.value]},null),u(Oe,{defaults:{VExpansionPanelTitle:{...Z},VExpansionPanelText:{..._}}},{default:()=>{var L;return[h&&u(Ae,{key:"title"},{default:()=>[n.title?n.title():e.title]}),$&&u(pe,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(L=n.default)==null?void 0:L.call(n)]}})]})}),{groupItem:t}}}),Kt=["default","accordion","inset","popout"],Wt=M({flat:Boolean,...Tt(),...$t(De(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...vt(),...ae(),...Ie(),variant:{type:String,default:"default",validator:e=>Kt.includes(e)}},"VExpansionPanels"),Qt=q()({name:"VExpansionPanels",props:Wt(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const{next:t,prev:a}=Ct(e,z),{themeClasses:i}=xt(e),s=E(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Vt({VExpansionPanel:{bgColor:S(e,"bgColor"),collapseIcon:S(e,"collapseIcon"),color:S(e,"color"),eager:S(e,"eager"),elevation:S(e,"elevation"),expandIcon:S(e,"expandIcon"),focusable:S(e,"focusable"),hideActions:S(e,"hideActions"),readonly:S(e,"readonly"),ripple:S(e,"ripple"),rounded:S(e,"rounded"),static:S(e,"static")}}),U(()=>u(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},i.value,s.value,e.class],style:e.style},{default:()=>{var p;return[(p=n.default)==null?void 0:p.call(n,{prev:a,next:t})]}})),{next:t,prev:a}}}),Yt={__name:"Accordion",props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},formId:{type:String,required:!0}},setup(e){const r=e,{slots:n}=le(),{leaf:t,handleLeafError:a}=je(r);return re(()=>{document.addEventListener("dataFormSubmitFailed",()=>a())}),(i,s)=>{const p=he;return d(),A(Qt,{mandatory:"force",modelValue:g(t),"onUpdate:modelValue":s[0]||(s[0]=m=>fe(t)?t.value=m:null)},{default:l(()=>[(d(!0),I(N,null,F(e.items,(m,o)=>(d(),A(Jt,{key:o},{default:l(()=>[u(Ae,null,{default:l(()=>[R(B(m.title),1)]),_:2},1024),u(pe,{eager:""},{default:l(()=>[u(p,{items:m.input,formId:e.formId},ie({_:2},[F(g(n)(m.input),c=>({name:c,fn:l(({item:v})=>[T(i.$slots,c,{item:v})])}))]),1032,["items","formId"])]),_:2},1024)]),_:2},1024))),128))]),_:3},8,["modelValue"])}}},Xt={},en={class:"theme-plain"};function tn(e,r){return d(),I("div",en,[T(e.$slots,"default")])}const nn=se(Xt,[["render",tn]]),rn={name:"ThemeFluid",props:{row:{type:Object,default:()=>{}}},computed:{title(){var e;return(e=this.row)==null?void 0:e.title}}},an={class:"theme-fluid"},on={class:"title_fluid",style:{"font-size":"1rem"}};function sn(e,r,n,t,a,i){return d(),I("div",an,[u(te,null,{default:l(()=>[u(kt,{class:"py-2"},{default:l(()=>[St("span",on,B(i.title),1)]),_:1}),u(qt),u(ee,null,{default:l(()=>[T(e.$slots,"default",{theme:"Fluid"})]),_:3})]),_:3})])}const ln=se(rn,[["render",sn]]),un={},cn={class:"theme-breeze"};function dn(e,r){return d(),I("div",cn,[T(e.$slots,"default",{theme:"Breeze"})])}const fn=se(un,[["render",dn]]),mn={},yn={class:"theme-card"};function pn(e,r){return d(),I("div",yn,[u(te,{class:"px-5 py-8"},{default:l(()=>[u(ee,null,{default:l(()=>[T(e.$slots,"default")]),_:3})]),_:3})])}const An=se(mn,[["render",pn]]),bn={__name:"Row",props:{row:{type:Object,required:!0},id:{type:String,required:!0},loading:{type:Boolean,required:!0}},setup(e){const r=e,{slots:n,subLayoutSlots:t}=le(),{showOnConditions:a}=mt(r.id),i={Plain:nn,Fluid:ln,Breeze:fn,Card:An},s=E(()=>{var o,c;return r.row.theme!=="Fluid"&&((c=(o=r.row)==null?void 0:o.title)==null?void 0:c.length)}),p=E(()=>{var o;return(o=r.row.input)!=null&&o.length?"set"in r.row.input[0]?r.row.input:{input:{title:r.row.title,theme:r.row.theme,themeComp:r.row.theme?i[r.row.theme]:i.Plain,set:r.row.input}}:[]}),m=E(()=>{const o=r.row.title;let c;return we(o)?"html"in o?c=o.html:"text"in o&&(c=`<h2 class="${o.class||""}">${o.text}</h2>`):c=o?`<h2>${o}</h2>`:"",c});return(o,c)=>{const v=Yt,$=Ht,h=he;return g(a)(e.row.conditionals)?(d(),A(ne,{key:0},{default:l(()=>[g(s)?(d(),A(k,{key:0,cols:"12",innerHTML:g(m)},null,8,["innerHTML"])):P("",!0),g(we)(e.row.title)&&"component"in e.row.title?(d(),A(k,{key:1,cols:"12"},{default:l(()=>[(d(),A(D(e.row.title.component),me(_e({...e.row.title.bind||{}})),null,16))]),_:1})):P("",!0),T(o.$slots,"rowSlot"),e.row.accordion?(d(),A(k,{key:2,cols:"12"},{default:l(()=>[u(v,{formId:e.id,items:e.row.accordion.items,options:e.row.accordion.options},null,8,["formId","items","options"])]),_:1})):P("",!0),e.row.tabs?(d(),A(k,{key:3,cols:"12"},{default:l(()=>[u($,{id:e.id,items:e.row.tabs.items,options:e.row.tabs.options},null,8,["id","items","options"])]),_:1})):P("",!0),u(k,{cols:"12"},{default:l(()=>[u(ne,null,{default:l(()=>{var Z;return[(d(!0),I(N,null,F(g(p),(_,L)=>oe((d(),A(k,j({cols:"12",ref_for:!0},{...o.$attrs,..._.responsive||{}},{key:L}),{default:l(()=>[(d(),A(D(_.themeComp),{row:_},{default:l(()=>[u(h,{ref_for:!0,ref:"dataFormInput",items:_.set,formId:e.id,loading:e.loading,theme:_.theme},ie({_:2},[F(g(n)(_.set),G=>({name:G,fn:l(({item:H})=>[T(o.$slots,G,{item:H})])}))]),1032,["items","formId","loading","theme"])]),_:2},1032,["row"]))]),_:2},1040)),[[ge,!_.hidden]])),128)),(Z=e.row.dynamic)!=null&&Z.component?(d(),A(k,{key:0,cols:"12"},{default:l(()=>[(d(),A(D(e.row.theme?i[e.row.theme]:i.Plain),{row:e.row},{default:l(()=>[(d(),A(D(e.row.dynamic.component),me(_e({...r,...e.row.dynamic})),null,16))]),_:1},8,["row"]))]),_:1})):P("",!0)]}),_:3})]),_:3})]),_:3})):P("",!0)}}};/**
  * vee-validate v4.13.2
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const W={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[А-ЯЁ]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},Q={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Y={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ]*$/i},X={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,kz:/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,ug:/^[0-9A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ_-]*$/i},ue=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function w(e,r){return Array.isArray(e)?e[0]:e[r]}function b(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Re=(e,r)=>{if(b(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>Re(a,{locale:n}));const t=String(e);return n?(W[n]||W.en).test(t):Object.keys(W).some(a=>W[a].test(t))},ze=(e,r)=>{if(b(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>ze(a,{locale:n}));const t=String(e);return n?(X[n]||X.en).test(t):Object.keys(X).some(a=>X[a].test(t))},Me=(e,r)=>{if(b(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>Me(a,{locale:n}));const t=String(e);return n?(Y[n]||Y.en).test(t):Object.keys(Y).some(a=>Y[a].test(t))},qe=(e,r)=>{if(b(e))return!0;const n=ue(r);if(Array.isArray(e))return e.every(a=>qe(a,{locale:n}));const t=String(e);return n?(Q[n]||Q.en).test(t):Object.keys(Q).some(a=>Q[a].test(t))};function hn(e){return Array.isArray(e)?{min:e[0],max:e[1]}:e}const Ue=(e,r)=>{if(b(e))return!0;const{min:n,max:t}=hn(r);if(Array.isArray(e))return e.every(i=>Ue(i,{min:n,max:t}));const a=Number(e);return Number(n)<=a&&Number(t)>=a},gn=(e,r)=>{const n=w(r,"target");return String(e)===String(n)},Ge=(e,r)=>{if(b(e))return!0;const n=w(r,"length");if(Array.isArray(e))return e.every(a=>Ge(a,{length:n}));const t=String(e);return/^[0-9]*$/.test(t)&&t.length===Number(n)},$n=(e,r,n)=>{const t=window.URL||window.webkitURL;return new Promise(a=>{const i=new Image;i.onerror=()=>a(!1),i.onload=()=>a(i.width===r&&i.height===n),i.src=t.createObjectURL(e)})};function vn(e){return e?Array.isArray(e)?{width:Number(e[0]),height:Number(e[1])}:{width:Number(e.width),height:Number(e.height)}:{width:0,height:0}}const xn=(e,r)=>{if(b(e))return!0;const{width:n,height:t}=vn(r),a=[],i=Array.isArray(e)?e:[e];for(let s=0;s<i.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(i[s].name))return Promise.resolve(!1);a.push(i[s])}return Promise.all(a.map(s=>$n(s,n,t))).then(s=>s.every(p=>p))},Ze=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vn=e=>b(e)?!0:Array.isArray(e)?e.every(r=>Ze.test(String(r))):Ze.test(String(e)),Sn=(e,r)=>{if(b(e))return!0;const n=new RegExp(`\\.(${r.join("|")})$`,"i");return Array.isArray(e)?e.every(t=>n.test(t.name)):n.test(e.name)},wn=e=>{if(b(e))return!0;const r=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every(n=>r.test(n.name)):r.test(e.name)},_n=e=>b(e)?!0:Array.isArray(e)?e.every(r=>/^-?[0-9]+$/.test(String(r))):/^-?[0-9]+$/.test(String(e)),En=(e,r)=>{const n=w(r,"other");return e===n},Zn=(e,r)=>{const n=w(r,"other");return e!==n},kn=(e,r)=>{if(b(e))return!0;const n=w(r,"length");return typeof e=="number"&&(e=String(e)),e.length||(e=Array.from(e)),e.length===Number(n)},He=(e,r)=>{if(b(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>He(t,{length:n})):[...String(e)].length<=Number(n)},Je=(e,r)=>{if(b(e))return!0;const n=w(r,"max");return Array.isArray(e)?e.length>0&&e.every(t=>Je(t,{max:n})):Number(e)<=Number(n)},ke=/\+(.+)?/;function Pn(e){let r=e;return ke.test(e)&&(r=e.replace(ke,"(\\+$1)?")),new RegExp(r.replace("*",".+"),"i")}const Fn=(e,r)=>{if(b(e))return!0;r||(r=[]);const n=r.map(Pn);return Array.isArray(e)?e.every(t=>n.some(a=>a.test(t.type))):n.some(t=>t.test(e.type))},Ke=(e,r)=>{if(b(e))return!0;const n=w(r,"length");return Array.isArray(e)?e.every(t=>Ke(t,{length:n})):[...String(e)].length>=Number(n)},We=(e,r)=>{if(b(e))return!0;const n=w(r,"min");return Array.isArray(e)?e.length>0&&e.every(t=>We(t,{min:n})):Number(e)>=Number(n)},$e=(e,r)=>b(e)?!0:Array.isArray(e)?e.every(n=>$e(n,r)):Array.from(r).some(n=>n==e),In=(e,r)=>b(e)?!0:!$e(e,r),Tn=/^[٠١٢٣٤٥٦٧٨٩]+$/,Cn=/^[0-9]+$/,On=e=>{if(b(e))return!0;const r=n=>{const t=String(n);return Cn.test(t)||Tn.test(t)};return Array.isArray(e)?e.every(r):r(e)},Qe=(e,r)=>{if(b(e))return!0;let n=w(r,"regex");return typeof n=="string"&&(n=new RegExp(n)),Array.isArray(e)?e.every(t=>Qe(t,{regex:n})):n.test(String(e))};function Ln(e){return e==null}function jn(e){return Array.isArray(e)&&e.length===0}const Bn=e=>Ln(e)||jn(e)||e===!1?!1:!!String(e).trim().length,Nn=(e,r)=>{if(b(e))return!0;let n=w(r,"size");if(n=Number(n),isNaN(n))return!1;const t=n*1024;if(!Array.isArray(e))return e.size<=t;for(let a=0;a<e.length;a++)if(e[a].size>t)return!1;return!0},Dn=(e,r)=>{var n;if(b(e))return!0;let t=w(r,"pattern");typeof t=="string"&&(t=new RegExp(t));try{new URL(e)}catch{return!1}return(n=t==null?void 0:t.test(e))!==null&&n!==void 0?n:!0},Rn={alpha_dash:ze,alpha_num:Me,alpha_spaces:qe,alpha:Re,between:Ue,confirmed:gn,digits:Ge,dimensions:xn,email:Vn,ext:Sn,image:wn,integer:_n,is_not:Zn,is:En,length:kn,max_value:Je,max:He,mimes:Fn,min_value:We,min:Ke,not_one_of:In,numeric:On,one_of:$e,regex:Qe,required:Bn,size:Nn,url:Dn};function be(e,r={}){return Array.isArray(e)?e.forEach(n=>be(n,r)):typeof e=="object"&&e!==null&&Object.keys(e).forEach(n=>{const t=e[n];n==="validation"&&(r[e._parentKey]=t),typeof t=="object"&&t!==null&&(t._parentKey=n,be(t,r))}),r}const zn=M({...ae(),...Ot()},"VForm"),Mn=q()({name:"VForm",props:zn(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,r){let{slots:n,emit:t}=r;const a=Lt(e),i=O();function s(m){m.preventDefault(),a.reset()}function p(m){const o=m,c=a.validate();o.then=c.then.bind(c),o.catch=c.catch.bind(c),o.finally=c.finally.bind(c),t("submit",o),o.defaultPrevented||c.then(v=>{var h;let{valid:$}=v;$&&((h=i.value)==null||h.submit())}),o.preventDefault()}return U(()=>{var m;return u("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:p},[(m=n.default)==null?void 0:m.call(n,a)])}),jt(a,i)}}),Yn={__name:"index",props:{id:{required:!0,type:String},api:{type:Object,default:()=>({})},locale:{type:String,default:"en"},localeStrings:{type:Object,default:()=>({})}},emits:["dataFormSubmit","dataFormSubmitSuccess","dataFormSubmitFailed"],setup(e,{expose:r,emit:n}){Object.entries(Rn).forEach(([f,x])=>{yt(f,x)});const t=Pe(),{getApiSlots:a}=le(),{getCurrentForm:i,addForm:s,addField:p,updateBinder:m,makeFormValid:o,makeFormInvalid:c,setFormErrors:v}=t,$=n,h=O(null),Z=O(!1),_=new Event("dataFormSubmit"),L=new Event("dataFormSubmitSuccess"),G=new Event("dataFormSubmitFailed"),H=O(!1),ve=O({}),J=O(!1),y=e,xe=f=>{"binder"in f&&(H.value||(ve.value={...f.binder},H.value=!0),JSON.stringify(ve.value)!==JSON.stringify(f.binder)&&!J.value?window.onbeforeunload=function(){return!0}:window.onbeforeunload=null,m({formId:y.id,binder:f.binder}))},Ye=()=>{J.value=!1,c(y.id);const f=i(y.id);"beforeSubmit"in y.api.submit&&y.api.submit.beforeSubmit(f.fields);const x=et();v({formId:y.id,errors:[]}),document.dispatchEvent(_),$("dataFormSubmit"),it(()=>at(x),C=>Ve(C.errors))()},Xe=()=>{if(!y.api.binder)return!0;Object.keys(y.api.binder).forEach(f=>{let x=y.api.binder[f];p({formId:y.id,fieldName:f,fieldValue:x})})},et=()=>{const f={};let x=!0;return y.api.binder?(Object.keys(y.api.binder).forEach(C=>{let V=y.api.binder[C];if(typeof V=="object"&&V!==null){if(V.invalid){console.error("Binder value is not valid: ",C),x=!1;return}V.invalid=!1}f[C]=V}),x?f:!1):!0},tt=f=>{Z.value=f},nt=f=>{document.dispatchEvent(new CustomEvent("changeLeaf",{detail:{leaf:f}}))},rt=()=>{const x=h.value.$el.querySelector(".v-input--error:first-of-type");if(x){const V=x.getBoundingClientRect().top+window.pageYOffset+-200;window.scrollTo({top:V,behavior:"smooth"})}},{handleSubmit:it}=pt({validationSchema:be(y.api)}),at=f=>{if(f){const x=i(y.id);y.api.submit&&y.api.submit.click(x.fields),o(y.id),J.value=!0,document.dispatchEvent(L),$("dataFormSubmitSuccess")}else Ve([])},Ve=f=>{v({formId:y.id,errors:f}),document.dispatchEvent(G),$("dataFormSubmitFailed"),rt()};return re(()=>{s({form_id:y.id,locale:y.locale,locale_strings:y.localeStrings}),m({formId:y.id,binder:y.api.binder??{}}),Xe()}),Ee(()=>y.api,f=>xe(f),{deep:!0}),Ee(()=>J.value,()=>xe(y.api)),Te("dataformsStore",t),r({setLoading:tt,changeLeaf:nt,dataformsStore:t}),(f,x)=>{const C=bn;return d(),A(Mn,{onSubmit:_t(Ye,["prevent"]),ref_key:"vFormRef",ref:h},{default:l(()=>[u(wt,{name:"form"},{default:l(()=>[u(ne,{key:"form_row"},{default:l(()=>[(d(!0),I(N,null,F(e.api.rows,(V,ot)=>oe((d(),A(k,j({cols:"12",ref_for:!0},{...f.$attrs,...V.responsive||{}},{key:ot}),{default:l(()=>[u(C,{row:V,id:e.id,loading:Z.value},ie({rowSlot:l(()=>[(d(!0),I(N,null,F(V.slots,(K,ce)=>(d(),A(k,{cols:"12",key:ce},{default:l(()=>[T(f.$slots,K)]),_:2},1024))),128))]),_:2},[F(g(a)(V),K=>({name:K,fn:l(({item:ce})=>[T(f.$slots,K,{item:ce})])}))]),1032,["row","id","loading"])]),_:2},1040)),[[ge,!V.hidden]])),128))]),_:3})]),_:3}),typeof e.api.submit=="object"?(d(),A(ne,{key:0},{default:l(()=>[u(k,{class:"text-end"},{default:l(()=>[u(Bt,j({type:"submit",loading:Z.value},{...f.$attrs,...e.api.submit.options||{}},{color:e.api.submit.color}),{default:l(()=>[e.api.submit.icon?(d(),A(Le,me(j({key:0},{...f.$attrs,...e.api.submit.icon.options||{}})),{default:l(()=>[R(B(e.api.submit.icon.symbol),1)]),_:1},16)):P("",!0),R(" "+B(e.api.submit.title),1)]),_:1},16,["loading","color"])]),_:1})]),_:1})):P("",!0)]),_:3},512)}}};export{Yn as default};
